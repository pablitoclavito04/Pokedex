import{Ab as I,Bb as z,Ga as E,Ha as u,Ma as O,Qa as _,V as m,W as f,Wa as M,X as y,_ as x,ba as v,cb as b,db as l,eb as a,ec as D,fb as S,jc as T,ka as k,mb as g,nc as j,ob as c,qb as d,ra as w,rb as H,sb as h,xa as C,ya as p,za as s,zb as B}from"./chunk-YPKSWN7B.js";var R=[[["","modal-header",""]],"*",[["","modal-footer",""]]],K=["[modal-header]","*","[modal-footer]"];function L(n,e){if(n&1&&(l(0,"h2",8),I(1),a()),n&2){let o=d(2);s(),z(o.title)}}function P(n,e){if(n&1){let o=g();l(0,"button",9),c("click",function(){m(o);let i=d(2);return f(i.close())}),y(),l(1,"svg",10),S(2,"line",11)(3,"line",12),a()()}}function W(n,e){if(n&1){let o=g();l(0,"div",1),c("click",function(i){m(o);let r=d();return f(r.onOverlayClick(i))}),l(1,"div",2),c("click",function(i){m(o);let r=d();return f(r.onModalContentClick(i))}),l(2,"header",3),_(3,L,2,1,"h2",4),h(4),_(5,P,4,0,"button",5),a(),l(6,"div",6),h(7,1),a(),l(8,"footer",7),h(9,2),a()()()}if(n&2){let o=d();M("aria-labelledby",o.title?"modal-title":null),s(),B(o.modalClasses),s(2),b("ngIf",o.title),s(2),b("ngIf",o.showCloseButton)}}var V=class n{constructor(e,o,t){this.document=o;this.renderer=t;this.isBrowser=j(e)}isBrowser;isOpen=!1;title="";size="md";closeOnOverlay=!0;closeOnEsc=!0;showCloseButton=!0;blockScroll=!0;closed=new v;close(){this.closed.emit()}onOverlayClick(e){this.closeOnOverlay&&e.target===e.currentTarget&&this.close()}onModalContentClick(e){e.stopPropagation()}onEscapeKey(){this.isOpen&&this.closeOnEsc&&this.close()}onDocumentWheel(e){this.isOpen&&this.blockScroll&&(e.target.closest(".modal")||e.preventDefault())}onTabKey(e){if(!this.isOpen||e.key!=="Tab")return;let o=document.querySelector(".modal");if(!o)return;let t=o.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');if(t.length===0)return;let i=t[0],r=t[t.length-1];e.shiftKey?document.activeElement===i&&(e.preventDefault(),r.focus()):document.activeElement===r&&(e.preventDefault(),i.focus())}onWindowResize(){if(!this.isOpen||!this.isBrowser)return;let e=document.querySelector(".modal");if(!e)return;let t=window.innerHeight*.9;e.offsetHeight>t&&(e.style.maxHeight=`${t}px`)}ngOnChanges(){this.isBrowser&&this.blockScroll&&(this.isOpen?this.renderer.setStyle(this.document.body,"overflow","hidden"):this.renderer.removeStyle(this.document.body,"overflow"))}ngOnDestroy(){this.isBrowser&&this.renderer.removeStyle(this.document.body,"overflow")}get modalClasses(){return`modal modal--${this.size}`}static \u0275fac=function(o){return new(o||n)(u(w),u(x),u(E))};static \u0275cmp=O({type:n,selectors:[["app-modal"]],hostBindings:function(o,t){o&1&&c("keydown.escape",function(){return t.onEscapeKey()},p)("wheel",function(r){return t.onDocumentWheel(r)},p)("keydown",function(r){return t.onTabKey(r)},p)("resize",function(){return t.onWindowResize()},C)},inputs:{isOpen:"isOpen",title:"title",size:"size",closeOnOverlay:"closeOnOverlay",closeOnEsc:"closeOnEsc",showCloseButton:"showCloseButton",blockScroll:"blockScroll"},outputs:{closed:"closed"},features:[k],ngContentSelectors:K,decls:1,vars:1,consts:[["class","modal-overlay","role","dialog","aria-modal","true",3,"click",4,"ngIf"],["role","dialog","aria-modal","true",1,"modal-overlay",3,"click"],["role","document",3,"click"],[1,"modal__header"],["id","modal-title","class","modal__title",4,"ngIf"],["type","button","class","modal__close","aria-label","Cerrar modal",3,"click",4,"ngIf"],[1,"modal__body"],[1,"modal__footer"],["id","modal-title",1,"modal__title"],["type","button","aria-label","Cerrar modal",1,"modal__close",3,"click"],["viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2","aria-hidden","true"],["x1","18","y1","6","x2","6","y2","18"],["x1","6","y1","6","x2","18","y2","18"]],template:function(o,t){o&1&&(H(R),_(0,W,10,5,"div",0)),o&2&&b("ngIf",t.isOpen)},dependencies:[T,D],styles:[`.modal-overlay{position:fixed;inset:0;z-index:1050;display:flex;align-items:center;justify-content:center;padding:1rem;background:var(--overlay-bg, rgba(0, 0, 0, .7));animation:fadeIn .2s cubic-bezier(0,0,.2,1)}@media(min-width:640px){.modal-overlay{padding:2rem}}.modal{position:relative;display:flex;flex-direction:column;width:100%;max-height:calc(100vh - 2rem);background:#fff;border:1px solid #e2e8f0;border-radius:.75rem;box-shadow:0 20px 25px -5px #0000001a,0 8px 10px -6px #0000001a;animation:slideUp .3s cubic-bezier(0,0,.2,1)}.dark-theme .modal{background:#2f4467;border-color:#ffffff1a}@media(min-width:640px){.modal{max-height:calc(100vh - 4rem)}}.modal--sm{max-width:400px}.modal--md{max-width:560px}.modal--lg{max-width:720px}.modal--xl{max-width:960px}.modal--full{max-width:calc(100vw - 2rem);max-height:calc(100vh - 2rem)}@media(min-width:640px){.modal--full{max-width:calc(100vw - 4rem);max-height:calc(100vh - 4rem)}}.modal__header{display:flex;align-items:center;justify-content:space-between;gap:1rem;padding:1.25rem 1.5rem;border-bottom:1px solid #e2e8f0;flex-shrink:0}.dark-theme .modal__header{border-bottom-color:#ffffff1a}.modal__title{font-family:Poppins,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;font-size:1.5rem;font-weight:700;color:#1e293b;margin:0}.dark-theme .modal__title{color:#fff}@media(min-width:640px){.modal__title{font-size:1.875rem}}.modal__close{display:flex;align-items:center;justify-content:center;width:36px;height:36px;padding:0;margin-left:auto;background:transparent;border:none;border-radius:.375rem;color:#64748b;cursor:pointer;transition:all .15s cubic-bezier(0,0,.2,1)}.dark-theme .modal__close{color:#ffffffb3}.modal__close svg{width:20px;height:20px}.modal__close:hover{background:#f1f5f9;color:#1e293b}.dark-theme .modal__close:hover{background:#ffffff1a;color:#fff}.modal__close:focus-visible{outline:2px solid var(--color-primary);outline-offset:2px}.modal__body{flex:1;overflow-y:auto;padding:1.5rem;color:#1e293b}.dark-theme .modal__body{color:#fff}.modal__body::-webkit-scrollbar{width:8px}.modal__body::-webkit-scrollbar-track{background:#f1f5f9;border-radius:4px}.dark-theme .modal__body::-webkit-scrollbar-track{background:#ffffff1a}.modal__body::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:4px}.dark-theme .modal__body::-webkit-scrollbar-thumb{background:#ffffff4d}.modal__body::-webkit-scrollbar-thumb:hover{background:#94a3b8}.dark-theme .modal__body::-webkit-scrollbar-thumb:hover{background:#ffffff80}.modal__footer{display:flex;align-items:center;justify-content:flex-end;gap:.75rem;padding:1rem 1.5rem;border-top:1px solid #e2e8f0;flex-shrink:0}.dark-theme .modal__footer{border-top-color:#ffffff1a}.modal__footer:empty{display:none}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes fadeOut{0%{opacity:1}to{opacity:0}}@keyframes slideUp{0%{opacity:0;transform:translateY(20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}@keyframes slideDown{0%{opacity:1;transform:translateY(0) scale(1)}to{opacity:0;transform:translateY(20px) scale(.95)}}.modal-overlay--closing{animation:fadeOut .2s cubic-bezier(0,0,.2,1) forwards}.modal--closing{animation:slideDown .2s cubic-bezier(0,0,.2,1) forwards}.footer-modal__content{display:flex;flex-direction:column;gap:1.25rem}.footer-modal__section{padding-bottom:1rem}.footer-modal__section:not(:last-child){border-bottom:1px solid #e2e8f0}.dark-theme .footer-modal__section:not(:last-child){border-bottom-color:#ffffff1a}.footer-modal__subtitle{font-family:Poppins,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;font-size:1rem;font-weight:600;color:#1a1a2e;margin:0 0 .5rem}.dark-theme .footer-modal__subtitle{color:#fff}.footer-modal__text{font-size:.875rem;color:#475569;line-height:1.625;margin:0}.dark-theme .footer-modal__text{color:#fff}.footer-modal__actions{display:flex;justify-content:center}.footer-modal__actions ::ng-deep .button--primary{background:#3b82f6;border-color:#3b82f6}.footer-modal__actions ::ng-deep .button--primary:hover:not(:disabled){background:#2563eb;border-color:#2563eb;box-shadow:0 4px 12px #3b82f666}.footer-modal__actions ::ng-deep .button--primary:active:not(:disabled){background:#1d4ed8;border-color:#1d4ed8}
`],encapsulation:2})};export{V as a};
