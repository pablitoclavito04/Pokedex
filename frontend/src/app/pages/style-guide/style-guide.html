<!-- ============================================================================
     STYLE GUIDE PAGE
     
     Página especial que muestra TODOS los componentes con TODAS sus variantes.
     Sirve como documentación visual y para testing rápido.
     ============================================================================ -->

<div class="style-guide">
  
  <!-- ========== HEADER ========== -->
  <header class="style-guide__header">
    <h1 class="style-guide__title">Style Guide</h1>
    <p class="style-guide__description">
      Documentación visual de todos los componentes UI de la Pokédex.
      Cada componente se muestra con todas sus variantes, tamaños y estados.
    </p>
  </header>
  
  <!-- ========== ÍNDICE ========== -->
  <nav class="style-guide__nav" aria-label="Índice de componentes">
    <h2 class="style-guide__nav-title">Componentes</h2>
    <ul class="style-guide__nav-list">
      <li><a (click)="scrollTo('buttons')">Botones</a></li>
      <li><a (click)="scrollTo('cards')">Cards</a></li>
      <li><a (click)="scrollTo('forms')">Formularios</a></li>
      <li><a (click)="scrollTo('alerts')">Alertas</a></li>
      <li><a (click)="scrollTo('badges')">Badges</a></li>
      <li><a (click)="scrollTo('modals')">Modales</a></li>
      <li><a (click)="scrollTo('tabs')">Tabs</a></li>
      <li><a (click)="scrollTo('accordion')">Accordion</a></li>
      <li><a (click)="scrollTo('tooltips')">Tooltips</a></li>
      <li><a (click)="scrollTo('toasts')">Toasts</a></li>
      <li><a (click)="scrollTo('loading')">Loading</a></li>
      <li><a (click)="scrollTo('communication')">Communication</a></li>
      <li><a (click)="scrollTo('separation')">API Service</a></li>
      <li><a (click)="scrollTo('reactive-forms')">Forms Reactivos</a></li>
    </ul>
  </nav>
  
  <!-- ======================================================================
       SECCIÓN: BOTONES
       ====================================================================== -->
  <section id="buttons" class="style-guide__section">
    <header class="style-guide__section-header">
      <h2 class="style-guide__section-title">Botones</h2>
      <p class="style-guide__section-description">
        Componente <code>app-button</code> con variantes, tamaños y estados.
      </p>
    </header>
    
    <!-- Variantes -->
    <div class="style-guide__subsection">
      <h3 class="style-guide__subsection-title">Variantes</h3>
      <div class="style-guide__component-row">
        <app-button variant="primary" (buttonClick)="onButtonClick('primary')">Primario</app-button>
        <app-button variant="secondary" (buttonClick)="onButtonClick('secondary')">Secundario</app-button>
        <app-button variant="ghost" (buttonClick)="onButtonClick('ghost')">Fantasma</app-button>
        <app-button variant="danger" (buttonClick)="onButtonClick('danger')">Peligro</app-button>
      </div>
    </div>

    <!-- Tamaños -->
    <div class="style-guide__subsection">
      <h3 class="style-guide__subsection-title">Tamaños</h3>
      <div class="style-guide__component-row style-guide__component-row--align-end">
        <app-button variant="primary" size="sm">Pequeño</app-button>
        <app-button variant="primary" size="md">Mediano</app-button>
        <app-button variant="primary" size="lg">Grande</app-button>
      </div>
    </div>
    
    <!-- Con iconos -->
    <div class="style-guide__subsection">
      <h3 class="style-guide__subsection-title">Con iconos</h3>
      <div class="style-guide__component-row">
        <app-button variant="primary" iconLeft="plus">Añadir</app-button>
        <app-button variant="secondary" iconRight="arrow-right">Siguiente</app-button>
        <app-button variant="danger" iconLeft="trash">Eliminar</app-button>
        <app-button variant="primary" iconLeft="download">Descargar</app-button>
      </div>
    </div>
    
    <!-- Estados -->
    <div class="style-guide__subsection">
      <h3 class="style-guide__subsection-title">Estados</h3>
      <div class="style-guide__component-row">
        <app-button variant="primary">Normal</app-button>
        <app-button variant="primary" [disabled]="true">Deshabilitado</app-button>
        <app-button variant="primary" [loading]="true">Cargando</app-button>
      </div>
    </div>
    
    <!-- Full width -->
    <div class="style-guide__subsection">
      <h3 class="style-guide__subsection-title">Full Width</h3>
      <div class="style-guide__component-stack">
        <app-button variant="primary" [fullWidth]="true">Botón de ancho completo</app-button>
      </div>
    </div>
    
  </section>
  
  <!-- ======================================================================
       SECCIÓN: CARDS
       ====================================================================== -->
  <section id="cards" class="style-guide__section">
    <header class="style-guide__section-header">
      <h2 class="style-guide__section-title">Cards</h2>
      <p class="style-guide__section-description">
        Componente <code>app-card</code> con variantes vertical, horizontal y pokemon.
      </p>
    </header>

    <!-- Card Pokemon -->
    <div class="style-guide__subsection">
      <h3 class="style-guide__subsection-title">Card Pokemon</h3>
      <div class="style-guide__cards-grid">
        @for (pokemon of pokemonCards; track pokemon.number; let i = $index) {
          <app-card
            variant="pokemon"
            [imageUrl]="pokemon.image"
            [imageAlt]="pokemon.name"
            [title]="pokemon.name"
            [pokemonNumber]="pokemon.number"
            [types]="pokemon.types"
            [isFavorite]="pokemon.isFavorite"
            actionText="Más información"
            (favoriteClick)="onPokemonFavorite(i)"
            (actionClick)="onPokemonAction(pokemon.name)">
          </app-card>
        }
      </div>
    </div>

    <!-- Card Horizontal -->
    <div class="style-guide__subsection">
      <h3 class="style-guide__subsection-title">Card Horizontal</h3>
      <div class="style-guide__component-stack">
        <app-card
          variant="horizontal"
          imageUrl="https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/other/official-artwork/150.png"
          imageAlt="Mewtwo"
          title="Mewtwo"
          pokemonNumber="150"
          [types]="mewtwoTypes"
          [isFavorite]="isMewtwoFavorite"
          description="Fue creado por un científico tras años de horribles experimentos de ingeniería genética."
          actionText="Más información"
          (favoriteClick)="onMewtwoFavorite()">
        </app-card>
      </div>
    </div>

  </section>
  
  <!-- ======================================================================
       SECCIÓN: FORMULARIOS
       ====================================================================== -->
  <section id="forms" class="style-guide__section style-guide__section--white-bg">
    <header class="style-guide__section-header">
      <h2 class="style-guide__section-title">Formularios</h2>
      <p class="style-guide__section-description">
        Componentes de formulario: <code>app-form-input</code>, <code>app-form-textarea</code>, <code>app-form-select</code>.
      </p>
    </header>
    
    <!-- Input -->
    <div class="style-guide__subsection">
      <h3 class="style-guide__subsection-title">Input</h3>
      <div class="style-guide__form-grid">
        <app-form-input
          inputId="demo-text"
          name="text"
          type="text"
          label="Nombre"
          placeholder="Escribe tu nombre"
          helpText="Este es un texto de ayuda"
          [required]="true">
        </app-form-input>
        
        <app-form-input
          inputId="demo-email"
          name="email"
          type="email"
          label="Email"
          placeholder="tu@email.com"
          icon="email"
          iconPosition="left"
          [required]="true">
        </app-form-input>
        
        <app-form-input
          inputId="demo-password"
          name="password"
          type="password"
          label="Contraseña"
          placeholder="Tu contraseña"
          icon="lock"
          iconPosition="left"
          [required]="true">
        </app-form-input>
        
        <app-form-input
          inputId="demo-error"
          name="error"
          type="text"
          label="Campo con error"
          placeholder="Escribe algo"
          [required]="true"
          [showError]="true"
          errorMessage="Este campo es obligatorio">
        </app-form-input>
      </div>
    </div>
    
    <!-- Textarea -->
    <div class="style-guide__subsection">
      <h3 class="style-guide__subsection-title">Textarea</h3>
      <div class="style-guide__form-grid">
        <app-form-textarea
          textareaId="demo-textarea"
          name="description"
          label="Descripción"
          placeholder="Escribe una descripción..."
          helpText="Máximo 500 caracteres"
          [rows]="4"
          [maxlength]="500"
          [showCharCount]="true">
        </app-form-textarea>
        
        <app-form-textarea
          textareaId="demo-textarea-error"
          name="bio"
          label="Biografía"
          placeholder="Cuéntanos sobre ti..."
          [required]="true"
          [showError]="true"
          errorMessage="La biografía es obligatoria"
          [rows]="4">
        </app-form-textarea>
      </div>
    </div>
    
    <!-- Select -->
    <div class="style-guide__subsection">
      <h3 class="style-guide__subsection-title">Select</h3>
      <div class="style-guide__form-grid">
        <app-form-select
          selectId="demo-select"
          name="type"
          label="Tipo de Pokémon"
          placeholder="Selecciona un tipo"
          [options]="selectOptions"
          helpText="Elige el tipo principal">
        </app-form-select>
        
        <app-form-select
          selectId="demo-select-error"
          name="type-error"
          label="Tipo (con error)"
          placeholder="Selecciona un tipo"
          [options]="selectOptions"
          [required]="true"
          [showError]="true"
          errorMessage="Debes seleccionar un tipo">
        </app-form-select>
      </div>
    </div>
    
  </section>
  
  <!-- ======================================================================
       SECCIÓN: ALERTAS
       ====================================================================== -->
  <section id="alerts" class="style-guide__section">
    <header class="style-guide__section-header">
      <h2 class="style-guide__section-title">Alertas</h2>
      <p class="style-guide__section-description">
        Componente <code>app-alert</code> con tipos success, error, warning, info.
      </p>
    </header>
    
    <div class="style-guide__subsection">
      <h3 class="style-guide__subsection-title">Tipos de alertas</h3>
      <div class="style-guide__component-stack">
        <app-alert
          type="success"
          title="¡Pokémon capturado!"
          message="Has capturado un Pikachu salvaje. Se ha añadido a tu Pokédex."
          (closed)="onAlertClosed('success')">
        </app-alert>
        
        <app-alert
          type="error"
          title="Error de conexión"
          message="No se pudo conectar con el servidor. Por favor, inténtalo de nuevo más tarde."
          (closed)="onAlertClosed('error')">
        </app-alert>
        
        <app-alert
          type="warning"
          title="Pokémon debilitado"
          message="Tu Pokémon tiene poca salud. Considera usar una poción antes del próximo combate."
          (closed)="onAlertClosed('warning')">
        </app-alert>
        
        <app-alert
          type="info"
          title="Nuevo evento disponible"
          message="El evento de captura de Pokémon legendarios ha comenzado. ¡No te lo pierdas!"
          (closed)="onAlertClosed('info')">
        </app-alert>
      </div>
    </div>
    
    <div class="style-guide__subsection">
      <h3 class="style-guide__subsection-title">Sin botón de cerrar</h3>
      <div class="style-guide__component-stack">
        <app-alert
          type="info"
          message="Esta alerta no se puede cerrar."
          [dismissible]="false">
        </app-alert>
      </div>
    </div>
    
  </section>
  
  <!-- ======================================================================
       SECCIÓN: BADGES
       ====================================================================== -->
  <section id="badges" class="style-guide__section">
    <header class="style-guide__section-header">
      <h2 class="style-guide__section-title">Badges</h2>
      <p class="style-guide__section-description">
        Componente <code>app-badge</code> para etiquetas, estados y contadores.
      </p>
    </header>
    
    <!-- Variantes -->
    <div class="style-guide__subsection">
      <h3 class="style-guide__subsection-title">Variantes</h3>
      <div class="style-guide__component-row">
        <app-badge variant="primary">Primario</app-badge>
        <app-badge variant="secondary">Secundario</app-badge>
        <app-badge variant="success">Éxito</app-badge>
        <app-badge variant="error">Error</app-badge>
        <app-badge variant="warning">Alerta</app-badge>
        <app-badge variant="info">Info</app-badge>
      </div>
    </div>

    <!-- Outline -->
    <div class="style-guide__subsection">
      <h3 class="style-guide__subsection-title">Outline</h3>
      <div class="style-guide__component-row">
        <app-badge variant="primary" [outline]="true">Primario</app-badge>
        <app-badge variant="secondary" [outline]="true">Secundario</app-badge>
        <app-badge variant="success" [outline]="true">Éxito</app-badge>
        <app-badge variant="error" [outline]="true">Error</app-badge>
      </div>
    </div>

    <!-- Tamaños -->
    <div class="style-guide__subsection">
      <h3 class="style-guide__subsection-title">Tamaños</h3>
      <div class="style-guide__component-row style-guide__component-row--align-center">
        <app-badge variant="primary" size="sm">Pequeño</app-badge>
        <app-badge variant="primary" size="md">Mediano</app-badge>
        <app-badge variant="primary" size="lg">Grande</app-badge>
      </div>
    </div>
    
    <!-- Contadores -->
    <div class="style-guide__subsection">
      <h3 class="style-guide__subsection-title">Contadores</h3>
      <div class="style-guide__component-row">
        <app-badge variant="error" [count]="5"></app-badge>
        <app-badge variant="primary" [count]="42"></app-badge>
        <app-badge variant="error" [count]="150" [maxCount]="99"></app-badge>
      </div>
    </div>
    
    <!-- Dots -->
    <div class="style-guide__subsection">
      <h3 class="style-guide__subsection-title">Dots</h3>
      <div class="style-guide__component-row">
        <app-badge variant="success" [dot]="true"></app-badge>
        <app-badge variant="error" [dot]="true"></app-badge>
        <app-badge variant="warning" [dot]="true"></app-badge>
        <app-badge variant="info" [dot]="true"></app-badge>
      </div>
    </div>
    
    <!-- Tipos de Pokémon -->
    <div class="style-guide__subsection">
      <h3 class="style-guide__subsection-title">Ejemplo: Tipos de Pokémon</h3>
      <div class="style-guide__component-row">
        <app-badge [style.background]="'#F08030'">Fuego</app-badge>
        <app-badge [style.background]="'#6890F0'">Agua</app-badge>
        <app-badge [style.background]="'#78C850'">Planta</app-badge>
        <app-badge [style.background]="'#F8D030'" [style.color]="'#1e293b'">Eléctrico</app-badge>
        <app-badge [style.background]="'#F85888'">Psíquico</app-badge>
      </div>
    </div>
    
  </section>
  
  <!-- ======================================================================
       SECCIÓN: MODALES
       ====================================================================== -->
  <section id="modals" class="style-guide__section">
    <header class="style-guide__section-header">
      <h2 class="style-guide__section-title">Modales</h2>
      <p class="style-guide__section-description">
        Componente <code>app-modal</code> para ventanas superpuestas.
      </p>
    </header>
    
    <div class="style-guide__subsection">
      <h3 class="style-guide__subsection-title">Demo</h3>
      <div class="style-guide__component-row">
        <app-button variant="primary" (buttonClick)="openModal()">Abrir Modal</app-button>
      </div>
    </div>
    
  </section>
  
  <!-- ========== MODAL DE DEMO ========== -->
  <app-modal
    [isOpen]="isModalOpen"
    title="Información del Pokémon"
    size="md"
    (closed)="closeModal()">

    <p>Este es el contenido del modal. Puedes poner cualquier cosa aquí:</p>
    <ul>
      <li>Información detallada</li>
      <li>Formularios</li>
      <li>Confirmaciones</li>
      <li>Imágenes</li>
    </ul>
    <p>Presiona ESC o haz clic fuera para cerrar.</p>

    <div modal-footer>
      <app-button variant="ghost" (buttonClick)="closeModal()">Cancelar</app-button>
      <app-button variant="primary" (buttonClick)="closeModal()">Aceptar</app-button>
    </div>

  </app-modal>

  <!-- ======================================================================
       SECCIÓN: TABS
       ====================================================================== -->
  <section id="tabs" class="style-guide__section">
    <header class="style-guide__section-header">
      <h2 class="style-guide__section-title">Tabs</h2>
      <p class="style-guide__section-description">
        Componente <code>app-tabs</code> para navegación por pestañas con soporte de teclado.
      </p>
    </header>

    <!-- Demo de Tabs -->
    <div class="style-guide__subsection">
      <h3 class="style-guide__subsection-title">Demo interactiva</h3>
      <div class="style-guide__component-stack">
        <app-tabs
          [tabs]="pokemonTabs"
          [activeTabId]="activeTabDefault"
          variant="default"
          (tabChange)="onTabChangeDefault($event)">
          <app-tab-panel id="stats" [active]="activeTabDefault === 'stats'">
            <div class="style-guide__tab-content">
              <h4>Estadísticas de Pikachu</h4>
              <ul>
                <li>HP: 35</li>
                <li>Ataque: 55</li>
                <li>Defensa: 40</li>
                <li>Velocidad: 90</li>
              </ul>
            </div>
          </app-tab-panel>
          <app-tab-panel id="moves" [active]="activeTabDefault === 'moves'">
            <div class="style-guide__tab-content">
              <h4>Movimientos de Pikachu</h4>
              <ul>
                <li>Impactrueno</li>
                <li>Rayo</li>
                <li>Ataque Rápido</li>
                <li>Cola Férrea</li>
              </ul>
            </div>
          </app-tab-panel>
          <app-tab-panel id="evolution" [active]="activeTabDefault === 'evolution'">
            <div class="style-guide__tab-content">
              <h4>Línea Evolutiva de Pikachu</h4>
              <p>Pichu → Pikachu → Raichu</p>
            </div>
          </app-tab-panel>
          <app-tab-panel id="locations" [active]="activeTabDefault === 'locations'">
            <div class="style-guide__tab-content">
              <h4>Ubicaciones de Pikachu</h4>
              <ul>
                <li>Bosque Verde</li>
                <li>Central Eléctrica</li>
                <li>Safari Zone</li>
              </ul>
            </div>
          </app-tab-panel>
        </app-tabs>
      </div>
    </div>

  </section>

  <!-- ======================================================================
       SECCIÓN: ACCORDION
       ====================================================================== -->
  <section id="accordion" class="style-guide__section">
    <header class="style-guide__section-header">
      <h2 class="style-guide__section-title">Accordion</h2>
      <p class="style-guide__section-description">
        Componente <code>app-accordion</code> para contenido colapsable con navegación por teclado.
      </p>
    </header>

    <!-- Variante Default -->
    <div class="style-guide__subsection">
      <h3 class="style-guide__subsection-title">Variante Default</h3>
      <div class="style-guide__component-stack">
        <app-accordion
          [items]="pokemonFaqs"
          [multiple]="false"
          variant="default"
          (itemToggle)="onAccordionToggle($event)">
        </app-accordion>
      </div>
    </div>

    <!-- Variante Bordered -->
    <div class="style-guide__subsection">
      <h3 class="style-guide__subsection-title">Variante Bordered</h3>
      <div class="style-guide__component-stack">
        <app-accordion
          [items]="pokemonFaqs"
          [multiple]="true"
          variant="bordered"
          (itemToggle)="onAccordionToggle($event)">
        </app-accordion>
      </div>
    </div>

  </section>

  <!-- ======================================================================
       SECCIÓN: TOOLTIPS
       ====================================================================== -->
  <section id="tooltips" class="style-guide__section">
    <header class="style-guide__section-header">
      <h2 class="style-guide__section-title">Tooltips</h2>
      <p class="style-guide__section-description">
        Componente <code>app-tooltip</code> para mostrar información adicional al hacer hover o focus.
      </p>
    </header>

    <!-- Posiciones -->
    <div class="style-guide__subsection">
      <h3 class="style-guide__subsection-title">Posiciones</h3>
      <div class="style-guide__component-row style-guide__component-row--spaced">
        <app-tooltip text="Tooltip arriba" position="top">
          <app-button variant="secondary">Top</app-button>
        </app-tooltip>

        <app-tooltip text="Tooltip abajo" position="bottom">
          <app-button variant="secondary">Bottom</app-button>
        </app-tooltip>

        <app-tooltip text="Tooltip izquierda" position="left">
          <app-button variant="secondary">Left</app-button>
        </app-tooltip>

        <app-tooltip text="Tooltip derecha" position="right">
          <app-button variant="secondary">Right</app-button>
        </app-tooltip>
      </div>
    </div>

    <!-- Con diferentes elementos -->
    <div class="style-guide__subsection">
      <h3 class="style-guide__subsection-title">Diferentes elementos</h3>
      <div class="style-guide__component-row">
        <app-tooltip text="Este es un badge de tipo Fuego" position="top">
          <app-badge variant="error">Fuego</app-badge>
        </app-tooltip>

        <app-tooltip text="Haz clic para ver más información" position="top">
          <app-button variant="primary" iconLeft="plus">Añadir Pokémon</app-button>
        </app-tooltip>

        <app-tooltip text="HP: Puntos de salud del Pokémon" position="bottom">
          <span class="style-guide__stat-label">HP: 100</span>
        </app-tooltip>
      </div>
    </div>

    <!-- Tooltip largo -->
    <div class="style-guide__subsection">
      <h3 class="style-guide__subsection-title">Texto largo</h3>
      <div class="style-guide__component-row">
        <app-tooltip
          text="Los Pokémon de tipo Eléctrico son inmunes a la parálisis y tienen ventaja contra los tipos Agua y Volador."
          position="top">
          <app-badge variant="warning">Eléctrico</app-badge>
        </app-tooltip>
      </div>
    </div>

  </section>

  <!-- ======================================================================
       SECCIÓN: TOASTS
       ====================================================================== -->
  <section id="toasts" class="style-guide__section">
    <header class="style-guide__section-header">
      <h2 class="style-guide__section-title">Toasts</h2>
      <p class="style-guide__section-description">
        Sistema de notificaciones con <code>ToastService</code>. Los toasts se muestran
        automáticamente y se auto-eliminan después de un tiempo configurable.
      </p>
    </header>

    <!-- Tipos de toast -->
    <div class="style-guide__subsection">
      <h3 class="style-guide__subsection-title">Tipos de notificación</h3>
      <div class="style-guide__component-row">
        <app-button variant="primary" (buttonClick)="showSuccessToast()">
          Éxito
        </app-button>
        <app-button variant="danger" (buttonClick)="showErrorToast()">
          Error
        </app-button>
        <app-button variant="secondary" (buttonClick)="showWarningToast()">
          Advertencia
        </app-button>
        <app-button variant="ghost" (buttonClick)="showInfoToast()">
          Información
        </app-button>
      </div>
    </div>

  </section>

  <!-- ======================================================================
       SECCIÓN: LOADING
       ====================================================================== -->
  <section id="loading" class="style-guide__section">
    <header class="style-guide__section-header">
      <h2 class="style-guide__section-title">Loading</h2>
      <p class="style-guide__section-description">
        Spinner global con <code>LoadingService</code>. Muestra un overlay
        durante operaciones asíncronas.
      </p>
    </header>

    <!-- Demo de loading -->
    <div class="style-guide__subsection">
      <h3 class="style-guide__subsection-title">Demo</h3>
      <div class="style-guide__component-row">
        <app-button variant="primary" (buttonClick)="showLoading()">
          Mostrar Loading (3s)
        </app-button>
      </div>
      <p class="style-guide__note">
        El spinner se ocultará automáticamente después de 3 segundos.
      </p>
    </div>

  </section>

  <!-- ======================================================================
       SECCIÓN: COMMUNICATION SERVICE
       ====================================================================== -->
  <section id="communication" class="style-guide__section">
    <header class="style-guide__section-header">
      <h2 class="style-guide__section-title">Communication Service</h2>
      <p class="style-guide__section-description">
        Servicio de comunicación entre componentes con <code>CommunicationService</code>.
        Permite compartir datos entre componentes hermanos o no relacionados usando BehaviorSubject.
      </p>
    </header>

    <!-- Demo de comunicación -->
    <div class="style-guide__subsection">
      <h3 class="style-guide__subsection-title">Demo: Comunicación entre componentes</h3>
      <p class="style-guide__note">
        Esta demo muestra cómo dos componentes pueden comunicarse sin tener relación padre-hijo.
        El "Emisor" envía datos y el "Receptor" los recibe en tiempo real.
      </p>

      <div class="style-guide__communication-demo">
        <!-- Componente Emisor -->
        <div class="style-guide__comm-panel style-guide__comm-panel--sender">
          <h4 class="style-guide__comm-panel-title">Componente emisor</h4>

          <!-- Seleccionar Pokémon -->
          <div class="style-guide__comm-control">
            <label>Seleccionar Pokémon:</label>
            <div class="style-guide__component-row">
              <app-button
                variant="primary"
                size="sm"
                (buttonClick)="selectPokemonDemo(25)">
                Pikachu (#25)
              </app-button>
              <app-button
                variant="secondary"
                size="sm"
                (buttonClick)="selectPokemonDemo(6)">
                Charizard (#6)
              </app-button>
              <app-button
                variant="ghost"
                size="sm"
                (buttonClick)="selectPokemonDemo(150)">
                Mewtwo (#150)
              </app-button>
            </div>
          </div>

          <!-- Enviar notificación -->
          <div class="style-guide__comm-control">
            <label>Enviar notificación:</label>
            <div class="style-guide__component-row">
              <app-button
                variant="primary"
                size="sm"
                (buttonClick)="sendNotificationDemo('¡Pokémon capturado!')">
                Capturado
              </app-button>
              <app-button
                variant="danger"
                size="sm"
                (buttonClick)="sendNotificationDemo('¡El Pokémon escapó!')">
                Escapó
              </app-button>
            </div>
          </div>

          <!-- Filtro de búsqueda -->
          <div class="style-guide__comm-control">
            <label>Actualizar filtro:</label>
            <app-form-input
              inputId="demo-filter"
              name="filter"
              type="text"
              placeholder="Escribe para filtrar..."
              (input)="onFilterChange($event)">
            </app-form-input>
          </div>
        </div>

        <!-- Componente Receptor -->
        <div class="style-guide__comm-panel style-guide__comm-panel--receiver">
          <h4 class="style-guide__comm-panel-title">Componente receptor</h4>

          <div class="style-guide__comm-data">
            <div class="style-guide__comm-data-item">
              <span class="style-guide__comm-label">Pokémon seleccionado:</span>
              <span class="style-guide__comm-value">
                @if (selectedPokemonId$ | async; as pokemonId) {
                  #{{ pokemonId }} - {{ getPokemonName(pokemonId) }}
                } @else {
                  Ninguno
                }
              </span>
            </div>

            <div class="style-guide__comm-data-item">
              <span class="style-guide__comm-label">Última notificación:</span>
              <span class="style-guide__comm-value">
                {{ (lastNotification$ | async) || 'Sin notificaciones' }}
              </span>
            </div>

            <div class="style-guide__comm-data-item">
              <span class="style-guide__comm-label">Filtro actual:</span>
              <span class="style-guide__comm-value">
                "{{ (searchFilter$ | async) || '' }}"
              </span>
            </div>
          </div>

          <!-- Botón para limpiar -->
          <app-button
            variant="ghost"
            size="sm"
            (buttonClick)="clearCommunicationDemo()">
            Limpiar todo
          </app-button>
        </div>
      </div>
    </div>

  </section>

  <!-- ======================================================================
       SECCIÓN: SEPARACIÓN DE RESPONSABILIDADES
       ====================================================================== -->
  <section id="separation" class="style-guide__section">
    <header class="style-guide__section-header">
      <h2 class="style-guide__section-title">Separacion de responsabilidades</h2>
      <p class="style-guide__section-description">
        Demo del patrón de separación de responsabilidades usando <code>PokemonService</code>.
        El servicio encapsula la lógica de negocio (API calls, transformación de datos),
        mientras el componente solo se encarga de la presentación.
      </p>
    </header>

    <!-- Demo de API -->
    <div class="style-guide__subsection">
      <h3 class="style-guide__subsection-title">Demo: Cargar Pokemon desde API</h3>
      <p class="style-guide__note">
        El componente no conoce la URL de la API ni cómo transformar los datos.
        Solo llama al servicio y muestra el resultado.
      </p>

      <div class="style-guide__api-demo">
        <!-- Controles -->
        <div class="style-guide__api-controls">
          <label>Cargar Pokemon por ID:</label>
          <div class="style-guide__component-row">
            <app-button
              variant="primary"
              size="sm"
              (buttonClick)="loadPokemon(25)">
              Pikachu (#25)
            </app-button>
            <app-button
              variant="secondary"
              size="sm"
              (buttonClick)="loadPokemon(6)">
              Charizard (#6)
            </app-button>
            <app-button
              variant="ghost"
              size="sm"
              (buttonClick)="loadPokemon(150)">
              Mewtwo (#150)
            </app-button>
            <app-button
              variant="danger"
              size="sm"
              (buttonClick)="loadRandomPokemon()">
              Aleatorio
            </app-button>
          </div>
        </div>

        <!-- Resultado -->
        <div class="style-guide__api-result">
          @if (pokemonServiceLoading$ | async) {
            <div class="style-guide__api-loading">
              Cargando datos del Pokemon...
            </div>
          } @else if (currentPokemon$ | async; as pokemon) {
            <div class="style-guide__pokemon-card-demo">
              <div class="style-guide__pokemon-image">
                <img [src]="pokemon.image" [alt]="pokemon.name" />
              </div>
              <div class="style-guide__pokemon-info">
                <h4 class="style-guide__pokemon-name">
                  #{{ pokemon.id }} {{ pokemon.name }}
                </h4>
                <div class="style-guide__pokemon-types">
                  @for (type of pokemon.types; track type.name) {
                    <span
                      class="style-guide__pokemon-type"
                      [style.background-color]="type.color">
                      {{ type.name }}
                    </span>
                  }
                </div>
                <div class="style-guide__pokemon-physical">
                  <span>Altura: {{ pokemon.height }}m</span>
                  <span>Peso: {{ pokemon.weight }}kg</span>
                </div>
                <div class="style-guide__pokemon-stats">
                  @for (stat of pokemon.stats; track stat.name) {
                    <div class="style-guide__stat-row">
                      <span class="style-guide__stat-name">{{ stat.name }}</span>
                      <div class="style-guide__stat-bar">
                        <div
                          class="style-guide__stat-fill"
                          [style.width.%]="(stat.value / 255) * 100">
                        </div>
                      </div>
                      <span class="style-guide__stat-value">{{ stat.value }}</span>
                    </div>
                  }
                </div>
              </div>
            </div>
          } @else {
            <div class="style-guide__api-empty">
              Selecciona un Pokemon para ver sus datos
            </div>
          }
        </div>
      </div>
    </div>

  </section>

  <!-- ======================================================================
       SECCIÓN: FORMULARIOS REACTIVOS
       ====================================================================== -->
  <section id="reactive-forms" class="style-guide__section">
    <header class="style-guide__section-header">
      <h2 class="style-guide__section-title">Formularios Reactivos</h2>
      <p class="style-guide__section-description">
        Demostración completa de formularios reactivos con validaciones síncronas, asíncronas,
        validadores personalizados, FormArrays dinámicos y directivas de máscara de entrada.
      </p>
    </header>

    <div class="style-guide__demo-block">
      <p class="style-guide__demo-text">
        Hemos creado una página dedicada con ejemplos completos de formularios reactivos en Angular.
        Incluye un formulario de registro con validación de contraseña, NIF español, teléfonos y
        un formulario de factura con arrays dinámicos.
      </p>
      <div class="style-guide__demo-actions">
        <a href="/forms-demo" class="style-guide__link-button">
          Ver demostración de formularios
        </a>
      </div>
    </div>
  </section>

</div>