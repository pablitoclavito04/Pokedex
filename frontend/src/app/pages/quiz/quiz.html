<!-- ============================================================================
     QUIZ PAGE - Página del Quiz Pokémon
     ============================================================================ -->

<main class="quiz-page">

  <!-- ========== BOTÓN VOLVER ========== -->
  <section class="quiz-page__header" aria-label="Navegación">
    <button class="quiz-page__back-btn" (click)="goBack()">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
        <path d="M19 12H5M12 19l-7-7 7-7"/>
      </svg>
      Volver
    </button>
  </section>

  <!-- ========== CARD PRINCIPAL ========== -->
  <section class="quiz-card">

    <!-- Header con icono -->
    <div class="quiz-card__header">
      <div class="quiz-card__icon">
        <img src="/Pokedex/favicon.png" alt="Pokeball" class="quiz-card__icon-img">
      </div>
      <h1 class="quiz-card__title">Quiz Pokémon</h1>
      <p class="quiz-card__description">
        Pon a prueba tus conocimientos sobre el mundo Pokémon.<br>
        ¡Desde los juegos clásicos hasta el anime, y más!<br>
        ¿Cuánto sabes realmente?
      </p>
    </div>

    <!-- Contenido -->
    <div class="quiz-card__content">

      <!-- Selector de dificultad -->
      <div class="quiz-card__section">
        <h2 class="quiz-card__section-title" id="difficulty-title">Selecciona la dificultad</h2>
        <div class="difficulty-selector" role="radiogroup" aria-labelledby="difficulty-title">
          @for (diff of difficulties; track diff.value) {
            <button
              class="difficulty-selector__item"
              [class.difficulty-selector__item--active]="selectedDifficulty === diff.value"
              [attr.data-difficulty]="diff.value"
              [attr.aria-pressed]="selectedDifficulty === diff.value"
              [attr.aria-label]="'Dificultad ' + diff.label + ': ' + diff.description"
              role="radio"
              (click)="selectedDifficulty = diff.value">
              <span class="difficulty-selector__circle" aria-hidden="true">
                <span class="difficulty-selector__circle-inner"></span>
              </span>
              <span class="difficulty-selector__label">{{ diff.label }}</span>
              <span class="difficulty-selector__desc">{{ diff.description }}</span>
            </button>
          }
        </div>
      </div>

      <!-- Selector de preguntas -->
      <div class="quiz-card__section">
        <h2 class="quiz-card__section-title" id="questions-title">Número de preguntas</h2>
        <div class="questions-selector" role="radiogroup" aria-labelledby="questions-title">
          @for (num of questionOptions; track num) {
            <button
              class="questions-selector__item"
              [class.questions-selector__item--active]="selectedQuestions === num"
              [attr.aria-pressed]="selectedQuestions === num"
              [attr.aria-label]="num + ' preguntas'"
              role="radio"
              (click)="selectedQuestions = num">
              <span class="questions-selector__number">{{ num }}</span>
              <span class="questions-selector__label">preguntas</span>
            </button>
          }
        </div>
      </div>

    </div>

    <!-- Footer con botón -->
    <div class="quiz-card__footer">
      <button class="quiz-card__start-btn" [disabled]="!canStartQuiz || isLoading" (click)="startQuiz()">
        <span class="quiz-card__start-btn-text">Comenzar Quiz</span>
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
          <path d="M5 12h14M12 5l7 7-7 7"/>
        </svg>
      </button>
    </div>

  </section>

</main>
