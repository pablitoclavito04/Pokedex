import{Fa as y,L as p,P as a,_ as m,nc as f,ra as u}from"./chunk-YPKSWN7B.js";var g=class h{constructor(e,t,i){this.document=i;this.renderer=e.createRenderer(null,null),this.isBrowser=f(t),this.isBrowser&&this.createContainer()}renderer;isBrowser;container=null;toasts=[];idCounter=0;timeoutIds=new Map;createContainer(){this.container||(this.container=this.renderer.createElement("div"),this.renderer.addClass(this.container,"toast-container"),this.renderer.addClass(this.container,"toast-container--top-right"),this.renderer.setStyle(this.container,"position","fixed"),this.renderer.setStyle(this.container,"top","80px"),this.renderer.setStyle(this.container,"right","20px"),this.renderer.setStyle(this.container,"z-index","9999"),this.renderer.setStyle(this.container,"display","flex"),this.renderer.setStyle(this.container,"flex-direction","column"),this.renderer.setStyle(this.container,"gap","10px"),this.renderer.setStyle(this.container,"max-width","350px"),this.renderer.setStyle(this.container,"pointer-events","none"),this.renderer.appendChild(this.document.body,this.container))}show(e,t="info",i=5e3){if(!this.isBrowser||!this.container)return;let n=++this.idCounter,r=this.renderer.createElement("div");this.renderer.addClass(r,"toast"),this.renderer.addClass(r,`toast--${t}`),this.renderer.setStyle(r,"display","flex"),this.renderer.setStyle(r,"align-items","center"),this.renderer.setStyle(r,"gap","12px"),this.renderer.setStyle(r,"padding","14px 18px"),this.renderer.setStyle(r,"border-radius","8px"),this.renderer.setStyle(r,"box-shadow","0 4px 12px rgba(0, 0, 0, 0.15)"),this.renderer.setStyle(r,"pointer-events","auto"),this.renderer.setStyle(r,"animation","toastSlideIn 0.3s ease-out"),this.renderer.setStyle(r,"cursor","pointer");let c={success:{bg:"#10B981",icon:"\u2713"},error:{bg:"#EF4444",icon:"\u2715"},warning:{bg:"#F59E0B",icon:"\u26A0"},info:{bg:"#3B82F6",icon:"\u2139"}};this.renderer.setStyle(r,"background-color",c[t].bg),this.renderer.setStyle(r,"color","white");let d=this.renderer.createElement("span");this.renderer.addClass(d,"toast__icon"),this.renderer.setStyle(d,"font-size","18px"),this.renderer.setStyle(d,"font-weight","bold");let S=this.renderer.createText(c[t].icon);this.renderer.appendChild(d,S);let o=this.renderer.createElement("span");this.renderer.addClass(o,"toast__message"),this.renderer.setStyle(o,"flex","1"),this.renderer.setStyle(o,"font-size","14px"),this.renderer.setStyle(o,"line-height","1.4");let x=this.renderer.createText(e);this.renderer.appendChild(o,x);let s=this.renderer.createElement("button");this.renderer.addClass(s,"toast__close"),this.renderer.setStyle(s,"background","transparent"),this.renderer.setStyle(s,"border","none"),this.renderer.setStyle(s,"color","white"),this.renderer.setStyle(s,"cursor","pointer"),this.renderer.setStyle(s,"font-size","18px"),this.renderer.setStyle(s,"opacity","0.8"),this.renderer.setStyle(s,"padding","0"),this.renderer.setStyle(s,"line-height","1");let v=this.renderer.createText("\xD7");this.renderer.appendChild(s,v),this.renderer.listen(s,"click",l=>{l.stopPropagation(),this.dismiss(n)}),this.renderer.appendChild(r,d),this.renderer.appendChild(r,o),this.renderer.appendChild(r,s),this.renderer.appendChild(this.container,r);let b={id:n,message:e,type:t,duration:i,element:r};if(this.toasts.push(b),i>0){let l=setTimeout(()=>this.dismiss(n),i);this.timeoutIds.set(n,l)}}dismiss(e){let t=this.toasts.findIndex(n=>n.id===e);if(t===-1)return;let i=this.toasts[t];this.timeoutIds.has(e)&&(clearTimeout(this.timeoutIds.get(e)),this.timeoutIds.delete(e)),i.element&&(this.renderer.setStyle(i.element,"animation","toastSlideOut 0.3s ease-in forwards"),setTimeout(()=>{i.element&&this.container&&this.renderer.removeChild(this.container,i.element)},300)),this.toasts.splice(t,1)}dismissAll(){this.timeoutIds.forEach(e=>clearTimeout(e)),this.timeoutIds.clear(),this.toasts.forEach(e=>{e.element&&this.container&&this.renderer.removeChild(this.container,e.element)}),this.toasts=[]}success(e,t=4e3){this.show(e,"success",t)}error(e,t=8e3){this.show(e,"error",t)}info(e,t=3e3){this.show(e,"info",t)}warning(e,t=6e3){this.show(e,"warning",t)}destroy(){this.dismissAll(),this.container&&this.isBrowser&&(this.renderer.removeChild(this.document.body,this.container),this.container=null)}static \u0275fac=function(t){return new(t||h)(a(y),a(u),a(m))};static \u0275prov=p({token:h,factory:h.\u0275fac,providedIn:"root"})};export{g as a};
